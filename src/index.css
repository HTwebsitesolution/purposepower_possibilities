/* Ultra Premium floating header */
.header-shell { 
	position: relative; 
	border-radius: 1.5rem; 
	filter: drop-shadow(0 25px 50px rgba(0,0,0,0.15));
}
.header-shell::before {
	content: ""; 
	position: absolute; 
	inset: 0; 
	padding: 2px; 
	border-radius: inherit;
	background: linear-gradient(135deg, #2563eb, #06b6d4, #14b8a6, #f59e0b, #ef4444);
	background-size: 300% 300%;
	animation: gradientShift 8s ease infinite;
	-webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
	-webkit-mask-composite: xor; 
	mask-composite: exclude; 
	pointer-events: none;
	opacity: 0.8;
}
.header-inner {
	@apply bg-white/80 dark:bg-slate-900/80 backdrop-blur-2xl
				 rounded-[1.4rem] ring-1 ring-white/20 dark:ring-slate-700/50
				 px-4 md:px-8 py-4 flex items-center justify-between;
	background: linear-gradient(135deg, 
		rgba(255,255,255,0.9) 0%, 
		rgba(255,255,255,0.7) 100%);
}
.dark .header-inner {
	background: linear-gradient(135deg, 
		rgba(15,23,42,0.95) 0%, 
		rgba(30,41,59,0.85) 100%);
}
.shadow-elevated { 
	box-shadow:
		0 32px 64px rgba(0,0,0,0.12),
		0 16px 32px rgba(0,0,0,0.08),
		0 8px 16px rgba(0,0,0,0.04),
		inset 0 1px 0 rgba(255,255,255,0.1);
}
@keyframes gradientShift {
	0%, 100% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
}

/* Premium Brand chip with enhanced effects */
.brandchip {
	display: inline-grid; 
	place-items: center;
	width: 2.75rem; 
	height: 2.75rem; 
	border-radius: 1rem;
	font-weight: 800; 
	font-size: 0.875rem;
	color: #fff;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	box-shadow: 
		0 20px 40px rgba(102,126,234,0.4),
		0 8px 16px rgba(118,75,162,0.3),
		inset 0 1px 0 rgba(255,255,255,0.2);
	border: 1px solid rgba(255,255,255,0.1);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	overflow: hidden;
}
.brandchip::before {
	content: '';
	position: absolute;
	top: -50%;
	left: -50%;
	width: 200%;
	height: 200%;
	background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
	transform: rotate(45deg);
	transition: all 0.6s ease;
	opacity: 0;
}
.brandchip:hover {
	transform: translateY(-2px) scale(1.05);
	box-shadow: 
		0 25px 50px rgba(102,126,234,0.5),
		0 12px 24px rgba(118,75,162,0.4),
		inset 0 1px 0 rgba(255,255,255,0.3);
}
.brandchip:hover::before {
	opacity: 1;
	animation: shimmer 1.5s ease-in-out;
}
@keyframes shimmer {
	0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
	100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* Premium Nav pills with advanced animations */
.nav-pill {
	position: relative;
	padding: 0.75rem 1.25rem;
	border-radius: 1rem;
	color: rgb(51 65 85); /* slate-700 */
	font-weight: 500;
	font-size: 0.875rem;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	background: rgba(255, 255, 255, 0.1);
	backdrop-filter: blur(8px);
	border: 1px solid rgba(255, 255, 255, 0.1);
	overflow: hidden;
}
.dark .nav-pill { 
	color: rgb(203 213 225); /* slate-300 */
	background: rgba(30, 41, 59, 0.3);
	border: 1px solid rgba(71, 85, 105, 0.3);
}
.nav-pill::before {
	content: '';
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
	transition: left 0.5s ease;
}
.nav-pill:hover {
	background: rgba(37, 99, 235, 0.1);
	border-color: rgba(37, 99, 235, 0.2);
	color: rgb(37, 99, 235);
	transform: translateY(-1px);
	box-shadow: 
		0 10px 25px rgba(37, 99, 235, 0.15),
		0 4px 12px rgba(37, 99, 235, 0.1);
}
.dark .nav-pill:hover {
	background: rgba(59, 130, 246, 0.15);
	border-color: rgba(59, 130, 246, 0.3);
	color: rgb(147, 197, 253);
}
.nav-pill:hover::before {
	left: 100%;
}
.nav-pill::after {
	content: "";
	position: absolute; 
	left: 50%; 
	transform: translateX(-50%);
	bottom: -2px; 
	height: 3px; 
	width: 0;
	background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
	border-radius: 999px; 
	transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.nav-pill:hover::after { 
	width: 80%; 
}
.nav-pill.is-active { 
	font-weight: 600;
	background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(59, 130, 246, 0.1));
	border-color: rgba(37, 99, 235, 0.3);
	color: rgb(37, 99, 235);
	box-shadow: 
		0 8px 20px rgba(37, 99, 235, 0.2),
		inset 0 1px 0 rgba(255, 255, 255, 0.1);
}
.dark .nav-pill.is-active {
	background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.1));
	border-color: rgba(59, 130, 246, 0.4);
	color: rgb(147, 197, 253);
}
.nav-pill.is-active::after { 
	width: 80%; 
}

/* Mobile drawer */
.mobile-panel { @apply md:hidden fixed inset-x-0 top-[72px] z-40 px-4 pb-4; display: none; }
.mobile-panel.open { display: block; }
.mobile-panel > ul { @apply glass rounded-2xl ring-1 ring-slate-200/70 dark:ring-slate-800/60 p-3; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	.nav-pill::after, .header-shell::before { transition: none; }
}
/* Floating app-bar with gradient border */
.header-float { position: relative; border-radius: 1rem; }
.header-float::before {
	content: "";
	position: absolute; inset: 0; padding: 1px; border-radius: inherit;
	background: linear-gradient(120deg, #2563eb, #14b8a6, #d6b25e);
	-webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
	-webkit-mask-composite: xor; mask-composite: exclude; pointer-events: none;
}
.header-float .inner {
	@apply glass rounded-2xl ring-1 ring-slate-200/70 dark:ring-slate-800/60
				 px-3 md:px-6 py-3 flex items-center justify-between;
}

/* Animated underline nav links (works with NavLink aria-current) */
.nav-link { @apply relative text-slate-700 dark:text-slate-200 hover:text-primary-700 dark:hover:text-primary-300 transition; padding-bottom: .35rem; }
.nav-link::after {
	content: ""; position: absolute; left: 50%; transform: translateX(-50%);
	bottom: -6px; height: 2px; width: 0;
	background: linear-gradient(90deg, #2563eb, #14b8a6, #d6b25e);
	border-radius: 999px; transition: width .25s ease;
}
.nav-link:hover::after { width: 100%; }
.nav-link[aria-current="page"]::after { width: 100%; }

/* Mobile drawer */
.mobile-panel { @apply md:hidden fixed inset-x-0 top-[72px] z-40 px-4 pb-4; display: none; }
.mobile-panel.open { display: block; }
.mobile-panel > ul { @apply glass rounded-2xl ring-1 ring-slate-200/70 dark:ring-slate-800/60 p-3; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
	.nav-link::after, .header-float::before { transition: none; }
}
/* --- Retailer badge (CSS-only; not an official logo) --- */
.source-badge {
	width:16px; height:16px;
	border-radius:4px;
	display:inline-block;
	position:relative;
	background:#232f3e;            /* deep navy tile */
	box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.source-badge.amazon::after {
	content:'';
	position:absolute;
	left:3px; right:3px; bottom:4px; height:3px;
	background:#ff9900;             /* orange “smile” bar */
	border-radius:999px;
	filter: blur(.2px);
}
/* Dark mode adaptation */
.dark .source-badge {
	background:#0b1220;
	box-shadow: inset 0 0 0 1px rgba(0,0,0,.4);
}
@tailwind base;
@tailwind components;
@tailwind utilities;

:focus-visible { outline: 2px dashed theme('colors.accent.500'); outline-offset: 3px; }

.container-narrow { @apply max-w-3xl mx-auto px-4; }
.container-wide { @apply max-w-6xl mx-auto px-4; }

.btn { @apply inline-flex items-center justify-center rounded-xl px-5 py-3 font-medium transition; }
.btn-primary { @apply bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-2 focus-visible:ring-primary-400; }
.btn-outline { @apply border border-primary-600 text-primary-700 hover:bg-primary-50 focus-visible:ring-2 focus-visible:ring-primary-400; }

.tag { @apply inline-block text-xs uppercase tracking-wide bg-primary-100 text-primary-700 px-2 py-1 rounded-md; }
.card { @apply rounded-2xl border border-slate-200 shadow-sm p-6 bg-white; }
.lead { @apply text-lg text-slate-700; }

/* --- Visual refresh utilities --- */
.gradient-text { @apply bg-gradient-to-r from-primary-600 via-tealish-500 to-accent-500 bg-clip-text text-transparent; }
.btn-gradient { @apply inline-flex items-center justify-center rounded-xl px-5 py-3 font-medium transition bg-gradient-to-r from-primary-600 via-tealish-500 to-accent-500 text-white shadow hover:opacity-95; }
.glass { @apply bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/60; }
.soft-shadow { box-shadow: 0 10px 30px rgba(2,6,23,.08), 0 6px 12px rgba(2,6,23,.06); }
.section { @apply container-wide mt-20; }
.eyebrow { @apply inline-block text-xs uppercase tracking-wide bg-primary-100 text-primary-700 px-3 py-1 rounded-md; }
.section-title { @apply font-display text-3xl md:text-4xl font-extrabold; }

@keyframes floatY { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-8px) } }
.floaty { animation: floatY 6s ease-in-out infinite; }

.blob { position: absolute; filter: blur(50px); opacity: .35; }
.blob-1 { width: 380px; height: 380px; background: radial-gradient(50% 50% at 50% 50%, #3b82f6 0%, transparent 60%); top: -60px; left: -60px; }
.blob-2 { width: 320px; height: 320px; background: radial-gradient(50% 50% at 50% 50%, #14b8a6 0%, transparent 60%); bottom: -60px; right: -40px; }
.blob-3 { width: 300px; height: 300px; background: radial-gradient(50% 50% at 50% 50%, #d6b25e 0%, transparent 60%); top: 40%; right: 20%; }

/* 3D tilt for book mockup */
.tilt { transform: perspective(900px) rotateY(-8deg) rotateX(4deg); transition: transform .4s ease, box-shadow .4s ease; }
.tilt:hover { transform: perspective(900px) rotateY(-2deg) rotateX(2deg) translateY(-2px); box-shadow: 0 20px 40px rgba(2,6,23,.18); }


/* --- Dark theme base --- */
html.dark body { @apply bg-slate-950 text-slate-100; }
.dark .card { @apply bg-slate-900/70 border-slate-800; }
.dark .glass { @apply bg-slate-900/60; }
.dark .btn-outline { @apply border-primary-300 text-primary-200 hover:bg-primary-900/20; }
.dark .lead { @apply text-slate-300; }
.dark .eyebrow { @apply bg-primary-900/30 text-primary-200; }
